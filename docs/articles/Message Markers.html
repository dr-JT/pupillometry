<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Message Markers • pupillometry</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Message Markers">
<meta property="og:description" content="">
<meta property="og:image" content="https://dr-jt.github.io/pupillometry/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pupillometry</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Comparison%20of%20Preprocessing%20Methods.html">Smooth or Interpolation First?</a>
    </li>
    <li>
      <a href="../articles/Example%20Data%20Set%20without%20Message%20Markers.html">Example Data Set - Without Message Markers</a>
    </li>
    <li>
      <a href="../articles/Example%20Data%20Set.html">Example Data Set</a>
    </li>
    <li>
      <a href="../articles/Message%20Markers.html">Message Markers</a>
    </li>
    <li>
      <a href="../articles/Preprocessing%20Options.html">Preprocessing Options</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dr-JT/pupillometry">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Message Markers</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dr-JT/pupillometry/blob/master/vignettes/Message%20Markers.Rmd"><code>vignettes/Message Markers.Rmd</code></a></small>
      <div class="hidden name"><code>Message Markers.Rmd</code></div>

    </div>

    
    
<p>Your data file need to conatain messages that mark the onset/offset of trials, critical stimuli, and events. For instance in the image below there are <strong>Message Markers</strong> shown above each stimulus event. These are example message markers that may be contained in the data file.</p>
<p><img src="../reference/figures/message_markers_1.png" align="center"></p>
<p>For <code><a href="../reference/pupil_preprocess.html">pupil_preprocess()</a></code> these are the message markers you need to know</p>
<div id="starttracking-message" class="section level3">
<h3 class="hasAnchor">
<a href="#starttracking-message" class="anchor"></a><code>starttracking.message = ""</code>
</h3>
<p>The first message marker is the <strong>StartTracking</strong> message. It is usually more practical to start saving data right at the beginning of a trial and stop saving at the end of a trial. This results in a smaller data file (less irrelevant data) than if you were to continously save data between trials or blocks. Different eye-tracker systems have a different default <strong>StartTracking</strong> message.</p>
<p><code>starttracking.message</code> is used to correctly set the trial index in the data file when importing the data file with <code><a href="../reference/pupil_read.html">pupil_read()</a></code>.</p>
<p>The SMI default is : “StartTracking.bmp”</p>
<p>This parameter can be set to <code>starttracking.message &lt;- "default"</code> to use the eyetracker default. If you are not using the default message then you need to specify the custom string you used.</p>
<p>In the case where you continuously saved data and do not have a <strong>StartTracking</strong> message at the start of each trial, you can use the first stimulus event (usually the pre-trial event) as the <strong>StartTracking</strong> message. For instance, in the Trial Procedure image above the first stimulus event with a message marker is <strong>Fixation</strong>. Therefore, you could set <code>starttracking.message &lt;- "Fixation"</code> if you do not have <strong>StartTracking</strong> message at the start of each trial.</p>
</div>
<div id="starttracking-match-cexact-pattern" class="section level3">
<h3 class="hasAnchor">
<a href="#starttracking-match-cexact-pattern" class="anchor"></a><code>starttracking.match = c("exact", "pattern")</code>
</h3>
<p>There is an additional parameter <code>starttracking.match</code> that specifies whether <code>starttracking.message</code> needs to be an <code>"exact"</code> or a <code>"pattern"</code> match. This simply allows more flexibility. Such as, if the start recording message is different on each trial “TRIALID [trial number]”, then a <code>"pattern"</code> match will need to be used to correctly set the trial index.</p>
</div>
<div id="trialonset-message" class="section level3">
<h3 class="hasAnchor">
<a href="#trialonset-message" class="anchor"></a><code>trialonset.message = ""</code>
</h3>
<p><code>trialonset.message</code> is the message in the data file that marks the onset of a trial. If you included a fixation as an inter-trial-interval (ITI) at the start of every trial, then the <strong>trial onset should correspond to the stimulus after the fixation or ITI stimulus</strong>. The fixation (ITI) period will be treated as a pre-trial period.</p>
<p>In the Trial Procedure image above, we would set <code>trialonset.message &lt;- "Cue"</code>.</p>
<p><code>trialonset.message</code> is used to set the timing relative to trial onset using <code><a href="../reference/set_timing.html">set_timing()</a></code>. Pre-trial periods will have a negative Time value, relative to trial onset.</p>
</div>
<div id="trialonset-match-cexact-pattern" class="section level3">
<h3 class="hasAnchor">
<a href="#trialonset-match-cexact-pattern" class="anchor"></a><code>trialonset.match = c("exact", "pattern")</code>
</h3>
<p>There is an additional parameter <code>trialonset.match</code> that specifies whether <code>trialonset.message</code> needs to be an <code>"exact"</code> or a <code>"pattern"</code> match. This simply allows more flexibility in how researchers may have included message markers in their task. <code>"pattern"</code> should be used if the <code>trialonset.message</code> marker is different on every trial (this can happen if the message includes information about the trial number). Within a trial, <code>trialonset.match</code> will only take the first match that occurs as the <code>trialonset.message</code>.</p>
<p>Such as, if the start recording message is different on each trial “TRIALID [trial number]”, then a <code>"pattern"</code> match will need to be used to correctly set the trial index.</p>
</div>
<div id="pretrial-duration" class="section level3">
<h3 class="hasAnchor">
<a href="#pretrial-duration" class="anchor"></a><code>pretrial.duration = ""</code>
</h3>
<p>The duration of the pre-trial period is set relative to the timing of the <code>trialonset.message</code> and that duration is specified by <code>pretrial.duration</code>.</p>
<p>For instance if <code>pretrial.duration &lt;- 2000</code>, then the 2000 milliseconds before <code>trialonset.message</code> will be marked as a pre-trial period. This duration typically corresponds to the duration of the ITI period.</p>
</div>
<div id="bconset-message" class="section level3">
<h3 class="hasAnchor">
<a href="#bconset-message" class="anchor"></a><code>bconset.message = ""</code>
</h3>
<p><code>bconset.message</code> is the message that marks the onset of the critical task period that needs to be baseline corrected.</p>
<p>For instance, in the Trial Procedue image above, we would set <code>bconset.message &lt;- "Stimulus"</code>.</p>
<p><code>bconset.message</code> is used for baseline correction in <code><a href="../reference/pupil_baselinecorrect.html">pupil_baselinecorrect()</a></code>.</p>
</div>
<div id="bconset-match-cexact-pattern" class="section level3">
<h3 class="hasAnchor">
<a href="#bconset-match-cexact-pattern" class="anchor"></a><code>bconset.match = c("exact", "pattern")</code>
</h3>
<p>There is an additional parameter <code>bconset.match</code> that specifies whether <code>bconset.message</code> needs to be an <code>"exact"</code> or a <code>"pattern"</code> match. This simply allows more flexibility in how researchers may have included message markers in their task. <code>"pattern"</code> should be used if the <code>baselineoffset.message</code> marker is different on every trial (this can happen if the message includes information about the trial number). Within a trial, <code>bconset.match</code> will only take the first match that occurs as the <code>bconset.message</code>.</p>
</div>
<div id="no-message-markers-in-data-file" class="section level3">
<h3 class="hasAnchor">
<a href="#no-message-markers-in-data-file" class="anchor"></a>No Message Markers in Data File?</h3>
<p>If you were not able to sync events in your experimental software to the eyetracking data file you will need to insert Message Markers with an external file that has timing data in it. Your data file would be missing critical information to apply preprocessing and analysis procedures. You would not know when certain events actually occured. This is illustrated in the image below.</p>
<p><img src="../reference/figures/message_markers_2.png" align="center"></p>
<p>Notice there are no message markers, and the dotted lines represent that the data file does not contain any information as to when these events actually occured.</p>
<p>See the Article <a href="">Example Data Set - without Message Markers</a> for an example of how to insert the messages into the data file.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://englelab.gatech.edu/jason.html">Jason Tsukahara</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'API_KEY',
    indexName: 'INDEX_NAME',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
